{
  "id": null,
  "uid": "sys-metrics",
  "title": "Системные и Prometheus метрики",
  "tags": ["system", "prometheus", "go"],
  "timezone": "browser",
  "schemaVersion": 36,
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "timeseries",
      "title": "Резидентная память процесса",
      "targets": [
        {
          "expr": "process_resident_memory_bytes",
          "legendFormat": "Resident Memory",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Используемая heap-память",
      "targets": [
        {
          "expr": "go_memstats_heap_alloc_bytes",
          "legendFormat": "Heap Alloc",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Память в использовании",
      "targets": [
        {
          "expr": "go_memstats_heap_inuse_bytes",
          "legendFormat": "Heap Inuse",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Свободная heap-память",
      "targets": [
        {
          "expr": "go_memstats_heap_idle_bytes",
          "legendFormat": "Heap Idle",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Общее время CPU",
      "targets": [
        {
          "expr": "process_cpu_seconds_total",
          "legendFormat": "CPU Seconds",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Открытые файловые дескрипторы",
      "targets": [
        {
          "expr": "process_open_fds",
          "legendFormat": "Open FDs",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Лимит файловых дескрипторов",
      "targets": [
        {
          "expr": "process_max_fds",
          "legendFormat": "Max FDs",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Принято байт по сети",
      "targets": [
        {
          "expr": "process_network_receive_bytes_total",
          "legendFormat": "Received Bytes",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Отправлено байт по сети",
      "targets": [
        {
          "expr": "process_network_transmit_bytes_total",
          "legendFormat": "Transmitted Bytes",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Текущие targets",
      "targets": [
        {
          "expr": "prometheus_target_scrape_pool_targets",
          "legendFormat": "Targets",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Проблемные samples",
      "targets": [
        {
          "expr": "prometheus_target_scrapes_sample_out_of_order_total",
          "legendFormat": "Out of Order Samples",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Интервалы сбора",
      "targets": [
        {
          "expr": "prometheus_target_interval_length_seconds",
          "legendFormat": "Scrape Interval",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Количество series",
      "targets": [
        {
          "expr": "prometheus_tsdb_head_series",
          "legendFormat": "TSDB Head Series",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Добавленные samples",
      "targets": [
        {
          "expr": "prometheus_tsdb_head_samples_appended_total",
          "legendFormat": "Samples Appended",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Размер хранилища",
      "targets": [
        {
          "expr": "prometheus_tsdb_storage_blocks_bytes",
          "legendFormat": "TSDB Storage Size",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "HTTP-запросы Prometheus",
      "targets": [
        {
          "expr": "prometheus_http_requests_total",
          "legendFormat": "{{code}}",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Длительность HTTP-запросов",
      "targets": [
        {
          "expr": "prometheus_http_request_duration_seconds",
          "legendFormat": "Request Duration",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Очередь алертов",
      "targets": [
        {
          "expr": "prometheus_notifications_queue_length",
          "legendFormat": "Alert Queue Length",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Длительность выполнения правил",
      "targets": [
        {
          "expr": "prometheus_rule_evaluation_duration_seconds",
          "legendFormat": "Rule Eval Duration",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Количество потоков",
      "targets": [
        {
          "expr": "go_threads",
          "legendFormat": "Threads",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Количество горутин",
      "targets": [
        {
          "expr": "go_sched_goroutines_goroutines",
          "legendFormat": "Goroutines",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Длительность выполнения групп правил",
      "targets": [
        {
          "expr": "prometheus_rule_group_duration_seconds",
          "legendFormat": "Rule Group Duration",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Ошибки синхронизации targets",
      "targets": [
        {
          "expr": "prometheus_target_sync_failed_total",
          "legendFormat": "Target Sync Failures",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Коррупция WAL",
      "targets": [
        {
          "expr": "prometheus_tsdb_wal_corruptions_total",
          "legendFormat": "WAL Corruptions",
          "refId": "A"
        }
      ]
    }
  ]
}
